<!doctype html>
<html lang="en" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>The CAD Pillar - Jewelry CAD &amp; Manufacturing Partner</title>
  <script src="https://cdn.tailwindcss.com/3.4.17"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600&amp;family=Space+Grotesk:wght@500;600;700&amp;display=swap" rel="stylesheet">

  <!-- Supabase (load ONCE) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            'heading': ['Space Grotesk', 'sans-serif'],
            'body': ['Outfit', 'sans-serif']
          },
          colors: {
            'bg': '#FAFBFC',
            'surface': '#FFFFFF',
            'headline': '#0A0E27',
            'secondary': '#475569',
            'primary-start': '#0EA5E9',
            'primary-end': '#0284C7',
            'light-blue-start': '#F0F9FF',
            'light-blue-end': '#E0F2FE',
            'dark-start': '#0A0E27',
            'dark-end': '#1E293B'
          }
        }
      }
    }
  </script>
  <style>
    html, body { height: 100%; }
    * { font-family: 'Outfit', sans-serif; }
    h1, h2, h3, h4, h5, h6, .font-heading { font-family: 'Space Grotesk', sans-serif; }
    .gradient-primary { background: linear-gradient(135deg, #0EA5E9 0%, #0284C7 100%); }
    .gradient-light { background: linear-gradient(180deg, #F0F9FF 0%, #E0F2FE 100%); }
    .gradient-dark { background: linear-gradient(135deg, #0A0E27 0%, #1E293B 100%); }
    .gradient-hero { background: linear-gradient(135deg, #FAFBFC 0%, #F0F9FF 50%, #E0F2FE 100%); }
    .text-gradient { background: linear-gradient(135deg, #0EA5E9 0%, #0284C7 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .card-hover { transition: all 0.3s ease; }
    .card-hover:hover { transform: translateY(-4px); box-shadow: 0 20px 40px -12px rgba(0, 0, 0, 0.1); }
    .btn-primary { transition: all 0.3s ease; }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 10px 20px -5px rgba(14, 165, 233, 0.4); }
    .btn-secondary { transition: all 0.3s ease; }
    .btn-secondary:hover { background: #0A0E27; color: white; border-color: #0A0E27; }
    .letter-tight { letter-spacing: -0.02em; }
    .glass-card { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); }
    .radial-glow { position: relative; }
    .radial-glow::before { content: ''; position: absolute; top: -20%; right: -10%; width: 50%; height: 70%; background: radial-gradient(circle, rgba(14, 165, 233, 0.15) 0%, transparent 70%); pointer-events: none; }

    /* CAD Quote Calculator Styles */
    .cad-calculator-wrapper { width: 100%; }
    .cad-calculator-step { display: none; }
    .cad-calculator-step.active { display: block; }
    .cad-calculator-container {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(0, 0, 0, 0.1);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    }
    .cad-calculator-title {
      font-size: 1.5rem;
      font-weight: 600;
      color: #0A0E27;
      margin: 0 0 0.5rem 0;
      font-family: 'Space Grotesk', sans-serif;
    }
    .cad-calculator-subtitle { font-size: 0.95rem; color: #475569; margin: 0 0 1.5rem 0; }
    .cad-form-group { margin-bottom: 1.25rem; }
    .cad-label { display: block; font-size: 0.9rem; font-weight: 500; color: #0A0E27; margin-bottom: 0.5rem; }
    .cad-checkbox-group {
      display: flex; align-items: center; gap: 0.75rem; padding: 0.75rem;
      border: 1px solid #E2E8F0; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;
    }
    .cad-checkbox-group:hover { background-color: #F8FAFC; border-color: #0EA5E9; }
    .cad-checkbox-group input[type="checkbox"] { cursor: pointer; }
    .cad-select, .cad-input {
      width: 100%; padding: 0.75rem; border: 1px solid #E2E8F0; border-radius: 8px;
      font-size: 0.95rem; font-family: 'Outfit', sans-serif; background-color: #FFFFFF; color: #0A0E27;
      transition: all 0.3s ease; box-sizing: border-box;
    }
    .cad-select:focus, .cad-input:focus { outline: none; border-color: #0EA5E9; box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1); }
    .cad-file-input {
      width: 100%; padding: 0.75rem; border: 2px dashed #E2E8F0; border-radius: 8px; cursor: pointer;
      font-size: 0.9rem; color: #475569; transition: all 0.3s ease; box-sizing: border-box;
    }
    .cad-file-input:hover { border-color: #0EA5E9; background-color: #F0F9FF; }
    .cad-file-help { font-size: 0.8rem; color: #94A3B8; margin-top: 0.5rem; }
    .cad-price-display {
      background: linear-gradient(135deg, #F0F9FF 0%, #E0F2FE 100%);
      border: 1px solid rgba(14, 165, 233, 0.2);
      border-radius: 12px; padding: 1.5rem; text-align: center; margin: 1.5rem 0;
    }
    .cad-price-label { font-size: 0.9rem; color: #475569; margin: 0 0 0.5rem 0; }
    .cad-price-amount { font-size: 2rem; font-weight: 700; color: #0EA5E9; margin: 0; font-family: 'Space Grotesk', sans-serif; }
    .cad-price-breakdown { font-size: 0.8rem; color: #94A3B8; margin-top: 0.5rem; }
    .cad-proceed-btn, .cad-submit-btn, .cad-paypal-btn {
      width: 100%; padding: 0.875rem; border: none; border-radius: 8px;
      font-size: 1rem; font-weight: 600; cursor: pointer; transition: all 0.3s ease; font-family: 'Outfit', sans-serif;
    }
    .cad-proceed-btn, .cad-submit-btn {
      background: linear-gradient(135deg, #0EA5E9 0%, #0284C7 100%);
      color: white; box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
    }
    .cad-proceed-btn:hover, .cad-submit-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(14, 165, 233, 0.4); }
    .cad-proceed-btn:disabled, .cad-submit-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }
    .cad-paypal-btn { background: #0070ba; color: white; margin: 1.5rem 0; }
    .cad-paypal-btn:hover { background: #005a94; transform: translateY(-2px); }
    .cad-back-btn {
      flex: 1; padding: 0.875rem; border: 1px solid #E2E8F0; border-radius: 8px;
      background: white; color: #0A0E27; font-weight: 600; cursor: pointer; transition: all 0.3s ease;
    }
    .cad-back-btn:hover { background: #F8FAFC; border-color: #CBD5E1; }
    .cad-button-group { display: flex; gap: 1rem; margin-top: 1.5rem; }
    .cad-button-group .cad-submit-btn { flex: 1; }
    .cad-error-message {
      background: #FEE2E2; border: 1px solid #FECACA; border-radius: 8px; padding: 0.75rem;
      color: #991B1B; font-size: 0.9rem; margin: 1rem 0; display: none;
    }
    .cad-error-message.show { display: block; }
    .cad-otp-confirmation {
      background: #F0FDF4; border: 1px solid #BBEF63; border-radius: 8px; padding: 1rem; margin: 1rem 0; text-align: center;
    }
    .cad-otp-confirmation p { margin: 0; font-size: 0.95rem; color: #166534; }
    .cad-resend-text { text-align: center; font-size: 0.9rem; color: #475569; margin: 1rem 0; }
    .cad-link { color: #0EA5E9; text-decoration: none; font-weight: 500; transition: color 0.3s ease; }
    .cad-link:hover { color: #0284C7; text-decoration: underline; }
    .cad-quote-summary { background: #F8FAFC; border: 1px solid #E2E8F0; border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0; }
    .cad-summary-row { display: flex; justify-content: space-between; align-items: center; padding: 0.75rem 0; border-bottom: 1px solid #E2E8F0; }
    .cad-summary-row:last-child { border-bottom: none; }
    .cad-summary-label { color: #475569; font-weight: 500; }
    .cad-summary-value { color: #0A0E27; font-weight: 600; font-family: 'Space Grotesk', sans-serif; }
    .cad-restart-text { text-align: center; margin-top: 1.5rem; }

    @media (max-width: 640px) {
      .cad-calculator-container { padding: 1.5rem; }
      .cad-calculator-title { font-size: 1.25rem; }
      .cad-price-amount { font-size: 1.75rem; }
      .cad-button-group { flex-direction: column; }
      .cad-button-group .cad-back-btn { width: 100%; }
    }
  </style>
  <style>body { box-sizing: border-box; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
 </head>

 <body class="h-full bg-bg text-secondary font-body overflow-auto">
  <div id="app" class="min-h-full w-full flex flex-col">
   <!-- Header -->
   <header class="sticky top-0 z-50 bg-surface/95 backdrop-blur-md border-b border-gray-100">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
     <div class="flex items-center justify-between h-16 lg:h-20">
      <!-- Logo -->
      <a href="#" onclick="navigateTo('home'); return false;" class="flex items-center gap-2">
       <div class="w-8 h-8 gradient-primary rounded-lg flex items-center justify-center">
        <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24">
         <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4" />
        </svg>
       </div><span class="font-heading font-bold text-headline text-lg tracking-tight">The CAD Pillar</span>
      </a>

      <!-- Desktop Navigation -->
      <nav class="hidden lg:flex items-center gap-8">
       <a href="#" onclick="navigateTo('home'); return false;" class="nav-link text-sm font-medium text-headline hover:text-primary-start transition-colors">Home</a>
       <div class="relative group">
        <button class="nav-link text-sm font-medium text-secondary hover:text-headline transition-colors flex items-center gap-1">
         Services
         <svg class="w-4 h-4 transition-transform group-hover:rotate-180" fill="none" stroke="currentColor" viewbox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
         </svg>
        </button>
        <div class="absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
         <div class="bg-surface rounded-xl shadow-xl border border-gray-100 p-2 min-w-[220px]">
          <a href="#" onclick="navigateTo('services-cad'); return false;" class="block px-4 py-2.5 text-sm text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Jewelry CAD Services</a>
          <a href="#" onclick="navigateTo('services-retainers'); return false;" class="block px-4 py-2.5 text-sm text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">CAD Retainers</a>
          <a href="#" onclick="navigateTo('services-digital'); return false;" class="block px-4 py-2.5 text-sm text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Digital Product Assets</a>
          <a href="#" onclick="navigateTo('services-manufacturing'); return false;" class="block px-4 py-2.5 text-sm text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Manufacturing Services</a>
         </div>
        </div>
       </div>
       <a href="#" onclick="scrollToSection('process'); return false;" class="nav-link text-sm font-medium text-secondary hover:text-headline transition-colors">Process</a>
       <a href="#" onclick="scrollToSection('quality'); return false;" class="nav-link text-sm font-medium text-secondary hover:text-headline transition-colors">Quality</a>
       <a href="#" onclick="scrollToSection('clients'); return false;" class="nav-link text-sm font-medium text-secondary hover:text-headline transition-colors">Clients</a>
       <a href="#" onclick="navigateTo('contact'); return false;" class="gradient-primary text-white px-5 py-2.5 rounded-lg text-sm font-semibold btn-primary shadow-lg shadow-primary-start/20">Get Started</a>
      </nav>

      <!-- Mobile Menu Button -->
      <button onclick="toggleMobileMenu()" class="lg:hidden p-2 text-headline">
       <svg id="menu-icon" class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
       </svg>
       <svg id="close-icon" class="w-6 h-6 hidden" fill="none" stroke="currentColor" viewbox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
       </svg>
      </button>
     </div>

     <!-- Mobile Menu -->
     <div id="mobile-menu" class="hidden lg:hidden pb-6">
      <div class="flex flex-col gap-2 pt-4 border-t border-gray-100">
       <a href="#" onclick="navigateTo('home'); toggleMobileMenu(); return false;" class="px-4 py-3 text-headline font-medium rounded-lg hover:bg-light-blue-start transition-colors">Home</a>
       <div class="px-4 py-2 text-xs font-semibold text-secondary uppercase tracking-wider">Services</div>
       <a href="#" onclick="navigateTo('services-cad'); toggleMobileMenu(); return false;" class="px-6 py-2.5 text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Jewelry CAD Services</a>
       <a href="#" onclick="navigateTo('services-retainers'); toggleMobileMenu(); return false;" class="px-6 py-2.5 text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">CAD Retainers</a>
       <a href="#" onclick="navigateTo('services-digital'); toggleMobileMenu(); return false;" class="px-6 py-2.5 text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Digital Product Assets</a>
       <a href="#" onclick="navigateTo('services-manufacturing'); toggleMobileMenu(); return false;" class="px-6 py-2.5 text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Manufacturing Services</a>
       <a href="#" onclick="scrollToSection('process'); toggleMobileMenu(); return false;" class="px-4 py-3 text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Process</a>
       <a href="#" onclick="scrollToSection('quality'); toggleMobileMenu(); return false;" class="px-4 py-3 text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Quality</a>
       <a href="#" onclick="scrollToSection('clients'); toggleMobileMenu(); return false;" class="px-4 py-3 text-secondary hover:text-headline hover:bg-light-blue-start rounded-lg transition-colors">Clients</a>
       <div class="px-4 pt-4">
        <a href="#" onclick="navigateTo('contact'); toggleMobileMenu(); return false;" class="block text-center gradient-primary text-white px-5 py-3 rounded-lg font-semibold">Get Started</a>
       </div>
      </div>
     </div>
    </div>
   </header>

   <!-- Main Content -->
   <main id="main-content" class="flex-1">
    <!-- HOME PAGE -->
    <div id="page-home">
     <!-- Hero Section -->
     <section class="gradient-hero radial-glow overflow-hidden">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 sm:py-24 lg:py-32">
       <div class="max-w-3xl">
        <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/80 backdrop-blur border border-primary-start/20 mb-8">
         <div class="w-2 h-2 rounded-full bg-primary-start animate-pulse"></div><span id="hero-badge" class="text-sm font-medium text-primary-end">Trade Partner</span>
        </div>
        <h1 id="hero-headline" class="font-heading font-bold text-headline text-5xl sm:text-6xl lg:text-6xl letter-tight leading-tight mb-6">Jewelry CAD &amp; Manufacturing Built for Brands</h1>
        <p id="hero-subheadline" class="text-xl sm:text-2xl text-secondary leading-relaxed mb-12">Professional design, production, and fulfillment for US and Australian jewelry businesses. We scale with your brand.</p>
        <div class="flex flex-col sm:flex-row gap-4">
         <a href="#cad-quote-section" onclick="scrollToElement('cad-quote-section'); return false;" class="gradient-primary text-white px-8 py-4 rounded-lg font-semibold btn-primary shadow-lg shadow-primary-start/25 text-center">Get Your Quote</a>
         <a href="#" onclick="scrollToSection('process'); return false;" class="bg-white text-headline px-8 py-4 rounded-lg font-semibold border-2 border-gray-200 btn-secondary text-center">How It Works</a>
        </div>
       </div>
      </div>
     </section>

     <!-- CAD Quote Calculator Section -->
     <section id="cad-quote-section" class="py-16 sm:py-20 lg:py-24 bg-bg">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12">
        <h2 class="font-heading font-bold text-headline text-3xl sm:text-4xl letter-tight mb-3">Instant CAD Pricing</h2>
        <p class="text-lg text-secondary">Get your jewelry design quote in under 2 minutes</p>
       </div>

       <div id="cad-quote-calculator" class="cad-calculator-wrapper">
        <!-- STEP 1 -->
        <div id="calculator-step" class="cad-calculator-step active">
         <div class="cad-calculator-container">
          <h3 class="cad-calculator-title">Quick Quote</h3>
          <p class="cad-calculator-subtitle">Tell us about your design</p>

          <div class="cad-form-group">
           <label for="design-type" class="cad-label">Design Type</label>
           <select id="design-type" class="cad-select">
            <option value="">Select design type</option>
            <option value="ring">Ring</option>
            <option value="pendant">Pendant / Necklace</option>
            <option value="bracelet">Bracelet</option>
            <option value="earrings">Earrings</option>
            <option value="custom">Custom</option>
           </select>
          </div>

          <div class="cad-form-group">
           <label for="stones" class="cad-label">Number of Stones</label>
           <select id="stones" class="cad-select">
            <option value="">Select stone count</option>
            <option value="0-10">1-10 Stones</option>
            <option value="10-50">10-50 Stones</option>
            <option value="50-100">50-100 Stones</option>
            <option value="100+">100+ Stones</option>
           </select>
          </div>

          <div class="cad-form-group">
           <label for="metal" class="cad-label">Metal Type &amp; Tone</label>
           <select id="metal" class="cad-select">
            <option value="">Select metal tone</option>
            <option value="white-gold">White Gold</option>
            <option value="yellow-gold">Yellow Gold</option>
            <option value="rose-gold">Rose Gold</option>
            <option value="platinum">Platinum</option>
           </select>
          </div>

          <div class="cad-form-group">
           <label for="delivery" class="cad-label">Delivery Speed</label>
           <select id="delivery" class="cad-select">
            <option value="standard">Standard (3-5 days)</option>
            <option value="express">Express (48 hours)</option>
           </select>
          </div>

          <div class="cad-form-group">
           <label class="cad-label">Add Digital Renders? (Optional)</label>
           <label class="cad-checkbox-group">
            <input type="checkbox" id="add-render">
            <span>4 Images + 360° Video</span>
           </label>
          </div>

          <div id="tone-group" class="cad-form-group" style="display: none;">
           <label for="render-tones" class="cad-label">Metal Tones to Render</label>
           <select id="render-tones" class="cad-select">
            <option value="">Select number of tones</option>
            <option value="1">1 Tone - $50</option>
            <option value="3">3 Tones - $70</option>
           </select>
          </div>

          <div class="cad-price-display">
           <p class="cad-price-label">Your Estimated Price Range:</p>
           <p id="price-output" class="cad-price-amount">$0 - $0</p>
           <p id="price-breakdown" class="cad-price-breakdown"></p>
          </div>

          <button id="proceed-btn" class="cad-proceed-btn">Continue to Checkout</button>
         </div>
        </div>

        <!-- STEP 2 -->
        <div id="details-step" class="cad-calculator-step">
         <div class="cad-calculator-container">
          <h3 class="cad-calculator-title">Your Information</h3>
          <p class="cad-calculator-subtitle">We’ll email you a secure link to continue</p>

          <div class="cad-form-group">
           <label for="full-name" class="cad-label">Full Name *</label>
           <input type="text" id="full-name" class="cad-input" placeholder="Your name" required>
          </div>

          <div class="cad-form-group">
           <label for="email-address" class="cad-label">Email Address *</label>
           <input type="email" id="email-address" class="cad-input" placeholder="your@email.com" required>
          </div>

          <div class="cad-form-group">
           <label for="phone-number" class="cad-label">Phone Number *</label>
           <input type="tel" id="phone-number" class="cad-input" placeholder="+1 (555) 000-0000" required>
          </div>

          <div class="cad-form-group">
           <label for="reference-image" class="cad-label">Upload Reference Image *</label>
           <input type="file" id="reference-image" class="cad-file-input" accept="image/*" required>
           <p class="cad-file-help">JPG, PNG, GIF (Max 5MB)</p>
          </div>

          <div id="validation-error" class="cad-error-message"></div>

          <div class="cad-button-group">
           <button id="back-to-calc-btn" class="cad-back-btn">Back</button>
           <button id="submit-details-btn" class="cad-submit-btn">Send Magic Link</button>
          </div>
         </div>
        </div>

        <!-- STEP 3 -->
        <div id="otp-step" class="cad-calculator-step">
         <div class="cad-calculator-container">
          <h3 class="cad-calculator-title">Check Your Email</h3>
          <p class="cad-calculator-subtitle">Click the secure link to continue to payment</p>

          <div class="cad-otp-confirmation">
           <p id="otp-email-display">Magic link sent to: <strong></strong></p>
          </div>

          <p class="cad-resend-text">Didn’t receive the email? <a href="#" id="resend-otp-link" class="cad-link">Resend Link</a></p>
         </div>
        </div>

        <!-- STEP 4 -->
        <div id="payment-step" class="cad-calculator-step">
         <div class="cad-calculator-container">
          <h3 class="cad-calculator-title">Confirm &amp; Pay</h3>
          <p class="cad-calculator-subtitle">Complete your order</p>

          <div class="cad-quote-summary">
           <div class="cad-summary-row">
            <span class="cad-summary-label">Price Range:</span>
            <span id="final-price" class="cad-summary-value">$0 - $0</span>
           </div>
           <div class="cad-summary-row">
            <span class="cad-summary-label">Confirmation Email:</span>
            <span id="final-email" class="cad-summary-value"></span>
           </div>
          </div>

          <button id="paypal-btn" class="cad-paypal-btn">Pay with PayPal</button>
          <p class="cad-restart-text"><a href="#" id="restart-calculator-link" class="cad-link">Start Over</a></p>
         </div>
        </div>
       </div>
      </div>
     </section>

     <!-- Stats Section -->
     <section class="py-16 sm:py-20 bg-surface">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6">
        <div class="glass-card rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover text-center">
         <div class="text-4xl sm:text-5xl font-heading font-bold text-gradient mb-2">2</div>
         <div class="font-heading font-semibold text-headline text-sm sm:text-base mb-1">Markets Served</div>
         <div class="text-xs sm:text-sm text-secondary">USA &amp; Australia</div>
        </div>
        <div class="glass-card rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover text-center">
         <div class="text-4xl sm:text-5xl font-heading font-bold text-gradient mb-2">NDA</div>
         <div class="font-heading font-semibold text-headline text-sm sm:text-base mb-1">Protected</div>
         <div class="text-xs sm:text-sm text-secondary">Confidential Operations</div>
        </div>
        <div class="glass-card rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover text-center">
         <div class="text-4xl sm:text-5xl font-heading font-bold text-gradient mb-2">∞</div>
         <div class="font-heading font-semibold text-headline text-sm sm:text-base mb-1">Trade Only</div>
         <div class="text-xs sm:text-sm text-secondary">Long-term Partners</div>
        </div>
        <div class="glass-card rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover text-center">
         <div class="text-4xl sm:text-5xl font-heading font-bold text-gradient mb-2">24/7</div>
         <div class="font-heading font-semibold text-headline text-sm sm:text-base mb-1">Production</div>
         <div class="text-xs sm:text-sm text-secondary">Global Capacity</div>
        </div>
       </div>
      </div>
     </section>

     <!-- Services Grid -->
     <section class="py-16 sm:py-20 lg:py-24 bg-bg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12 lg:mb-16">
        <h2 class="font-heading font-bold text-headline text-3xl sm:text-4xl lg:text-5xl letter-tight mb-4">Complete Production Support</h2>
        <p class="text-lg text-secondary max-w-2xl mx-auto">From concept to delivery—everything your jewelry brand needs</p>
       </div>
       <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-surface rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover group">
         <div class="w-12 h-12 gradient-primary rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
         </div>
         <h3 class="font-heading font-bold text-headline text-lg mb-3">Jewelry CAD Services</h3>
         <p class="text-secondary text-sm leading-relaxed mb-4">Manufacturing-ready 3D design for any jewelry type.</p>
         <a href="#" onclick="navigateTo('services-cad'); return false;" class="inline-flex items-center gap-2 text-sm font-semibold text-primary-start hover:text-primary-end transition-colors">Learn more
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
         </a>
        </div>
        <div class="bg-surface rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover group">
         <div class="w-12 h-12 gradient-primary rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
         </div>
         <h3 class="font-heading font-bold text-headline text-lg mb-3">CAD Retainers</h3>
         <p class="text-secondary text-sm leading-relaxed mb-4">Dedicated monthly capacity for ongoing projects.</p>
         <a href="#" onclick="navigateTo('services-retainers'); return false;" class="inline-flex items-center gap-2 text-sm font-semibold text-primary-start hover:text-primary-end transition-colors">Learn more
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
         </a>
        </div>
        <div class="bg-surface rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover group">
         <div class="w-12 h-12 gradient-primary rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
         </div>
         <h3 class="font-heading font-bold text-headline text-lg mb-3">Digital Assets</h3>
         <p class="text-secondary text-sm leading-relaxed mb-4">Photorealistic renders and interactive 360° spins.</p>
         <a href="#" onclick="navigateTo('services-digital'); return false;" class="inline-flex items-center gap-2 text-sm font-semibold text-primary-start hover:text-primary-end transition-colors">Learn more
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
         </a>
        </div>
        <div class="bg-surface rounded-2xl p-6 sm:p-8 border border-gray-100 card-hover group">
         <div class="w-12 h-12 gradient-primary rounded-xl flex items-center justify-center mb-5 group-hover:scale-110 transition-transform">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" /></svg>
         </div>
         <h3 class="font-heading font-bold text-headline text-lg mb-3">Manufacturing</h3>
         <p class="text-secondary text-sm leading-relaxed mb-4">White-label production from our India facility.</p>
         <a href="#" onclick="navigateTo('services-manufacturing'); return false;" class="inline-flex items-center gap-2 text-sm font-semibold text-primary-start hover:text-primary-end transition-colors">Learn more
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" /></svg>
         </a>
        </div>
       </div>
      </div>
     </section>

     <!-- Process Section -->
     <section id="process" class="py-16 sm:py-20 lg:py-24 gradient-light">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12 lg:mb-16">
        <h2 class="font-heading font-bold text-headline text-3xl sm:text-4xl lg:text-5xl letter-tight mb-4">Our Process</h2>
        <p class="text-lg text-secondary max-w-2xl mx-auto">A structured approach built for efficiency and quality</p>
       </div>
       <div class="grid md:grid-cols-4 gap-6">
        <div class="bg-surface rounded-2xl p-6 border border-gray-100 card-hover relative">
         <div class="w-10 h-10 gradient-primary rounded-full flex items-center justify-center text-white font-heading font-bold mb-4">1</div>
         <h3 class="font-heading font-semibold text-headline mb-2">Discovery</h3>
         <p class="text-sm text-secondary">Understand your requirements and brand standards.</p>
        </div>
        <div class="bg-surface rounded-2xl p-6 border border-gray-100 card-hover relative">
         <div class="w-10 h-10 gradient-primary rounded-full flex items-center justify-center text-white font-heading font-bold mb-4">2</div>
         <h3 class="font-heading font-semibold text-headline mb-2">Design</h3>
         <p class="text-sm text-secondary">Create manufacturing-ready CAD files.</p>
        </div>
        <div class="bg-surface rounded-2xl p-6 border border-gray-100 card-hover relative">
         <div class="w-10 h-10 gradient-primary rounded-full flex items-center justify-center text-white font-heading font-bold mb-4">3</div>
         <h3 class="font-heading font-semibold text-headline mb-2">Review</h3>
         <p class="text-sm text-secondary">Collaborate on refinements until perfection.</p>
        </div>
        <div class="bg-surface rounded-2xl p-6 border border-gray-100 card-hover relative">
         <div class="w-10 h-10 gradient-primary rounded-full flex items-center justify-center text-white font-heading font-bold mb-4">4</div>
         <h3 class="font-heading font-semibold text-headline mb-2">Deliver</h3>
         <p class="text-sm text-secondary">Production-ready files or finished pieces.</p>
        </div>
       </div>
      </div>
     </section>

     <!-- Quality Section -->
     <section id="quality" class="py-16 sm:py-20 lg:py-24 bg-bg">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <h2 class="font-heading font-bold text-headline text-3xl sm:text-4xl lg:text-5xl letter-tight mb-6">Quality Without Compromise</h2>
       <p class="text-lg text-secondary mb-8 leading-relaxed max-w-3xl">Every file we deliver is production-tested and manufacturing-ready. Our quality standards match the requirements of leading US and Australian jewelry brands.</p>
      </div>
     </section>

     <!-- Clients Section -->
     <section id="clients" class="py-16 sm:py-20 lg:py-24 gradient-light">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
       <div class="text-center mb-12">
        <h2 class="font-heading font-bold text-headline text-3xl sm:text-4xl lg:text-5xl letter-tight mb-4">Trusted by Leading Brands</h2>
        <p class="text-lg text-secondary max-w-2xl mx-auto">We work exclusively with established jewelry businesses in the USA and Australia</p>
       </div>
      </div>
     </section>

     <!-- Dark CTA Section -->
     <section class="gradient-dark py-16 sm:py-20 lg:py-24">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
       <h2 id="cta-headline" class="font-heading font-bold text-white text-3xl sm:text-4xl lg:text-5xl letter-tight mb-6">Ready to Scale Your Jewelry Brand?</h2>
       <p id="cta-subtext" class="text-lg text-gray-300 mb-10 max-w-2xl mx-auto">Get started with a custom quote or discuss your production needs.</p>
       <a href="#" onclick="navigateTo('contact'); return false;" class="inline-block bg-white text-headline px-8 py-4 rounded-lg font-semibold btn-primary shadow-lg">Contact Us Today</a>
      </div>
     </section>
    </div>

    <!-- CONTACT PAGE / SERVICES PAGES / FOOTER remain unchanged in your repo version -->
   </main>
  </div>

  <script>
    // ===== NAVIGATION AND UTILITY FUNCTIONS =====
    function navigateTo(page) {
      document.querySelectorAll('[id^="page-"]').forEach(p => p.classList.add('hidden'));
      const targetPage = document.getElementById('page-' + page);
      if (targetPage) {
        targetPage.classList.remove('hidden');
      }
      document.getElementById('main-content').scrollIntoView({ behavior: 'smooth' });
    }

    function scrollToSection(sectionId) {
      if (document.getElementById('page-home').classList.contains('hidden')) {
        navigateTo('home');
        setTimeout(() => {
          const section = document.getElementById(sectionId);
          if (section) section.scrollIntoView({ behavior: 'smooth' });
        }, 100);
      } else {
        const section = document.getElementById(sectionId);
        if (section) section.scrollIntoView({ behavior: 'smooth' });
      }
    }

    function scrollToElement(elementId) {
      const element = document.getElementById(elementId);
      if (element) {
        element.scrollIntoView({ behavior: 'smooth' });
      }
    }

    function toggleMobileMenu() {
      document.getElementById('mobile-menu').classList.toggle('hidden');
      document.getElementById('menu-icon').classList.toggle('hidden');
      document.getElementById('close-icon').classList.toggle('hidden');
    }

    function handleFormSubmit(event) {
      event.preventDefault();
      document.getElementById('contact-form').classList.add('hidden');
      document.getElementById('form-success').classList.remove('hidden');
    }
  </script>

  <script>
    // ===== SUPABASE MAGIC LINK + CAD QUOTE CALCULATOR MODULE =====
    (function() {
      // TODO: Replace with your ACTUAL project URL and anon key.
      // MUST be like: https://<project-ref>.supabase.co
      const supabaseUrl = "";
      const supabaseKey = "";

      const sb = (window.supabase && typeof window.supabase.createClient === "function" && supabaseUrl && supabaseKey)
        ? window.supabase.createClient(supabaseUrl, supabaseKey)
        : null;

      const MAGIC_LINK_REDIRECT_TO = "https://thecadpillar.com/#magiclink";
      const DESIGN_IMAGES_BUCKET = "design-images";

      const priceRanges = {
        ring: { min: 35, max: 50 },
        pendant: { min: 80, max: 95 },
        bracelet: { min: 80, max: 95 },
        earrings: { min: 35, max: 50 },
        custom: { min: 50, max: 65 }
      };

      const stoneMultipliers = {
        '0-10': 1.0,
        '10-50': 1.2,
        '50-100': 1.4,
        '100+': 1.6
      };

      const renderPrices = { 1: 50, 3: 70 };

      let calculatorState = {
        designType: '',
        stones: '',
        metal: '',
        delivery: 'standard',
        addRender: false,
        renderTones: '',
        fullName: '',
        email: '',
        phone: '',
        referenceImagePath: '',
        estimatedPriceMin: 0,
        estimatedPriceMax: 0
      };

      const elements = {
        designTypeSelect: document.getElementById('design-type'),
        stonesSelect: document.getElementById('stones'),
        metalSelect: document.getElementById('metal'),
        deliverySelect: document.getElementById('delivery'),
        addRenderCheckbox: document.getElementById('add-render'),
        renderTonesSelect: document.getElementById('render-tones'),
        toneGroup: document.getElementById('tone-group'),
        priceOutput: document.getElementById('price-output'),
        priceBreakdown: document.getElementById('price-breakdown'),
        proceedBtn: document.getElementById('proceed-btn'),
        fullNameInput: document.getElementById('full-name'),
        emailInput: document.getElementById('email-address'),
        phoneInput: document.getElementById('phone-number'),
        imageInput: document.getElementById('reference-image'),
        validationError: document.getElementById('validation-error'),
        submitDetailsBtn: document.getElementById('submit-details-btn'),
        backToCalcBtn: document.getElementById('back-to-calc-btn'),
        otpEmailDisplay: document.getElementById('otp-email-display'),
        resendOtpLink: document.getElementById('resend-otp-link'),
        finalPrice: document.getElementById('final-price'),
        finalEmail: document.getElementById('final-email'),
        paypalBtn: document.getElementById('paypal-btn'),
        restartLink: document.getElementById('restart-calculator-link'),
        calculatorStep: document.getElementById('calculator-step'),
        detailsStep: document.getElementById('details-step'),
        otpStep: document.getElementById('otp-step'),
        paymentStep: document.getElementById('payment-step')
      };

      function showStep(stepName) {
        elements.calculatorStep.classList.remove('active');
        elements.detailsStep.classList.remove('active');
        elements.otpStep.classList.remove('active');
        elements.paymentStep.classList.remove('active');

        switch(stepName) {
          case 'calculator': elements.calculatorStep.classList.add('active'); break;
          case 'details': elements.detailsStep.classList.add('active'); break;
          case 'magiclink': elements.otpStep.classList.add('active'); break;
          case 'payment': elements.paymentStep.classList.add('active'); break;
        }
      }

      function calculateCADPrice() {
        const { designType, stones } = calculatorState;
        if (!designType || !stones) return { min: 0, max: 0 };
        const range = priceRanges[designType];
        const stoneMult = stoneMultipliers[stones];
        return { min: Math.round(range.min * stoneMult), max: Math.round(range.max * stoneMult) };
      }

      function calculateTotalPrice() {
        const cadPrice = calculateCADPrice();
        let totalMin = cadPrice.min;
        let totalMax = cadPrice.max;

        if (calculatorState.addRender && calculatorState.renderTones) {
          const renderPrice = renderPrices[calculatorState.renderTones];
          totalMin += renderPrice;
          totalMax += renderPrice;
        }
        return { min: totalMin, max: totalMax };
      }

      function updatePriceDisplay() {
        const totals = calculateTotalPrice();
        const cadPrice = calculateCADPrice();

        calculatorState.estimatedPriceMin = totals.min;
        calculatorState.estimatedPriceMax = totals.max;

        elements.priceOutput.textContent = `$${totals.min} - $${totals.max}`;

        let breakdown = '';
        if (calculatorState.addRender && calculatorState.renderTones) {
          breakdown = `Approx. CAD: $${cadPrice.min}-$${cadPrice.max} + Renders: $${renderPrices[calculatorState.renderTones]}`;
        } else {
          breakdown = `Approx. CAD Design`;
        }
        elements.priceBreakdown.textContent = breakdown;
      }

      function validateDetailsForm() {
        const fullName = elements.fullNameInput.value.trim();
        const email = elements.emailInput.value.trim();
        const phone = elements.phoneInput.value.trim();
        const imageFile = elements.imageInput.files[0];

        let errorMessage = '';

        if (!fullName) errorMessage = 'Please enter your full name.';
        else if (!email || !email.includes('@')) errorMessage = 'Please enter a valid email address.';
        else if (!phone) errorMessage = 'Please enter a valid phone number.';
        else if (!imageFile) errorMessage = 'Please upload a reference image.';
        else if (imageFile.size > 5 * 1024 * 1024) errorMessage = 'Image size must be less than 5MB.';

        if (errorMessage) {
          elements.validationError.textContent = errorMessage;
          elements.validationError.classList.add('show');
          return false;
        }

        elements.validationError.classList.remove('show');
        return true;
      }

      function safeFileExt(filename) {
        const parts = (filename || "").split(".");
        const ext = parts.length > 1 ? parts.pop().toLowerCase() : "jpg";
        return ["jpg", "jpeg", "png", "gif", "webp"].includes(ext) ? ext : "jpg";
      }

      async function uploadReferenceImage({ file, email }) {
        if (!sb) throw new Error("Supabase client not initialized. Add your supabaseUrl/supabaseKey.");

        const ext = safeFileExt(file.name);
        const timestamp = new Date().toISOString().replace(/[:.]/g, "-");
        const safeEmail = (email || "unknown").toLowerCase().replace(/[^a-z0-9@._-]/g, "_");
        const path = `cad-quotes/${safeEmail}/${timestamp}.${ext}`;

        const { data, error } = await sb.storage
          .from(DESIGN_IMAGES_BUCKET)
          .upload(path, file, {
            cacheControl: "3600",
            upsert: false,
            contentType: file.type || undefined
          });

        if (error) throw error;
        return data.path;
      }

      async function sendMagicLink(email) {
        if (!sb) throw new Error("Supabase client not initialized. Add your supabaseUrl/supabaseKey.");

        const { error } = await sb.auth.signInWithOtp({
          email,
          options: { emailRedirectTo: MAGIC_LINK_REDIRECT_TO }
        });

        if (error) throw error;
      }

      async function submitDetailsAndSendLink() {
        if (!validateDetailsForm()) return;

        calculatorState.fullName = elements.fullNameInput.value.trim();
        calculatorState.email = elements.emailInput.value.trim();
        calculatorState.phone = elements.phoneInput.value.trim();

        const imageFile = elements.imageInput.files[0];

        elements.submitDetailsBtn.disabled = true;
        elements.submitDetailsBtn.textContent = "Sending...";

        try {
          const imagePath = await uploadReferenceImage({ file: imageFile, email: calculatorState.email });
          calculatorState.referenceImagePath = imagePath;

          localStorage.setItem("cad_quote_state", JSON.stringify(calculatorState));

          await sendMagicLink(calculatorState.email);

          const emailStrong = elements.otpEmailDisplay.querySelector('strong');
          if (emailStrong) emailStrong.textContent = calculatorState.email;

          showStep('magiclink');
        } catch (err) {
          elements.validationError.textContent = err?.message || "Failed to send magic link. Please try again.";
          elements.validationError.classList.add('show');
        } finally {
          elements.submitDetailsBtn.disabled = false;
          elements.submitDetailsBtn.textContent = "Send Magic Link";
        }
      }

      async function handleMagicLinkReturn() {
        if (!sb) return;

        const { data } = await sb.auth.getSession();
        const email = data?.session?.user?.email;
        if (!email) return;

        elements.finalPrice.textContent = `$${calculatorState.estimatedPriceMin} - $${calculatorState.estimatedPriceMax}`;
        elements.finalEmail.textContent = email;
        showStep('payment');
      }

      function generatePayPalLink() {
        const businessEmail = 'business@thecadpillar.com';
        const avgAmount = Math.round((calculatorState.estimatedPriceMin + calculatorState.estimatedPriceMax) / 2);
        const description = `CAD Design - ${calculatorState.designType}`;
        return `https://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business=${businessEmail}&item_name=${encodeURIComponent(description)}&amount=${avgAmount}&currency_code=USD&invoice=${Date.now()}&return=https://www.thecadpillar.com/success`;
      }

      elements.designTypeSelect.addEventListener('change', (e) => { calculatorState.designType = e.target.value; updatePriceDisplay(); });
      elements.stonesSelect.addEventListener('change', (e) => { calculatorState.stones = e.target.value; updatePriceDisplay(); });
      elements.metalSelect.addEventListener('change', (e) => { calculatorState.metal = e.target.value; updatePriceDisplay(); });
      elements.deliverySelect.addEventListener('change', (e) => { calculatorState.delivery = e.target.value; updatePriceDisplay(); });

      elements.addRenderCheckbox.addEventListener('change', (e) => {
        calculatorState.addRender = e.target.checked;
        elements.toneGroup.style.display = calculatorState.addRender ? 'block' : 'none';
        if (!calculatorState.addRender) {
          calculatorState.renderTones = '';
          elements.renderTonesSelect.value = '';
        }
        updatePriceDisplay();
      });

      elements.renderTonesSelect.addEventListener('change', (e) => { calculatorState.renderTones = e.target.value; updatePriceDisplay(); });

      elements.proceedBtn.addEventListener('click', () => {
        if (calculatorState.designType && calculatorState.stones && calculatorState.metal) showStep('details');
      });

      elements.backToCalcBtn.addEventListener('click', () => showStep('calculator'));

      elements.submitDetailsBtn.addEventListener('click', (e) => {
        e.preventDefault();
        submitDetailsAndSendLink();
      });

      elements.resendOtpLink.addEventListener('click', (e) => {
        e.preventDefault();
        (async () => {
          try {
            if (!calculatorState.email) {
              const saved = JSON.parse(localStorage.getItem("cad_quote_state") || "{}");
              if (saved?.email) calculatorState.email = saved.email;
            }
            if (!calculatorState.email) throw new Error("Please go back and enter your email again.");
            await sendMagicLink(calculatorState.email);
          } catch (err) {
            console.error(err);
          }
        })();
      });

      elements.paypalBtn.addEventListener('click', () => {
        window.open(generatePayPalLink(), '_blank', 'noopener,noreferrer');
      });

      elements.restartLink.addEventListener('click', (e) => {
        e.preventDefault();
        calculatorState = {
          designType: '',
          stones: '',
          metal: '',
          delivery: 'standard',
          addRender: false,
          renderTones: '',
          fullName: '',
          email: '',
          phone: '',
          referenceImagePath: '',
          estimatedPriceMin: 0,
          estimatedPriceMax: 0
        };

        elements.designTypeSelect.value = '';
        elements.stonesSelect.value = '';
        elements.metalSelect.value = '';
        elements.deliverySelect.value = 'standard';
        elements.addRenderCheckbox.checked = false;
        elements.renderTonesSelect.value = '';
        elements.toneGroup.style.display = 'none';
        elements.fullNameInput.value = '';
        elements.emailInput.value = '';
        elements.phoneInput.value = '';
        elements.imageInput.value = '';

        updatePriceDisplay();
        showStep('calculator');
      });

      updatePriceDisplay();
      document.addEventListener("DOMContentLoaded", handleMagicLinkReturn);
      handleMagicLinkReturn();
    })();
  </script>
 </body>
</html>
